{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,iECEAC,EAFAC,EAAAF,EAAA,UAESG,OAAOC,KAAK,CACnBC,QAAS,CACPC,WAAY,UACZC,UAAW,OACXC,kBAAmB,WAErBC,QAAS,CACPH,WAAY,UACZC,UAAW,OACXC,kBAAmB,WAErBE,QAAS,CACPJ,WAAY,UACZC,UAAW,OACXC,kBAAmB,aDRvB,IAAIG,EAAe,GAEnB,MAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,YAAaF,SAASC,cAAc,eACpCE,kBAAmBH,SAASC,cAAc,gBA4C5C,SAASG,EAAiBC,GACxBpB,EAAAqB,QAAQC,UAAY,GACpB,MAAMC,EAAcH,EAAMI,MAC1B,EAAAC,EAAAC,mBAAkBb,EAAKI,YAAYU,MAAOJ,GAAaK,MACrD,EAAGC,QAASC,OACV,EAAAC,EAAAC,cAAaF,EAAO,G,CA9C1BjB,EAAKC,WAAWmB,iBAAiB,UAAUC,IACzCA,EAAEC,iBAEoC,KAAlCtB,EAAKI,YAAYU,MAAMS,OAKvBvB,EAAKI,YAAYU,MAAMS,SAAWxB,GAMtCA,EAAeC,EAAKI,YAAYU,MAAMS,QAEtC,EAAAC,EAAAC,gBACAzB,EAAKK,kBAAkBqB,UAAUC,IAAI,cAErC,EAAAf,EAAAC,mBAAkBb,EAAKI,YAAYU,MAAO,GAAGC,MAC3C,EAAGC,QAASC,EAAQW,cAAeC,OACjC,EAAAL,EAAAM,iBACqB,IAAjBD,GAMJxC,EAAAC,GAASC,OAAOE,QACd,6BAA6BoC,aAE/BE,EAAAC,iBAAiBC,GAAG,YAAa3B,GACjCN,EAAKK,kBAAkBqB,UAAUQ,OAAO,aACxCH,EAAAC,iBAAiBG,MAAMN,IACvB,EAAAX,EAAAC,cAAaF,IAXX5B,EAAAC,GAASC,OAAOO,QACd,2CAUgB,IAIxBX,EAAAqB,QAAQC,UAAY,IA7BlBpB,EAAAC,GAASC,OAAOM,QACd,yDANFR,EAAAC,GAASC,OAAOM,QAAQ,iBAkCJ,G","sources":["src/js/buildSearchedMovies.js","src/js/partials/notiflixSettings.js"],"sourcesContent":["import { gallery } from './data';\nimport { paginationSearch } from './pagination';\nimport { fetchSearchMovies } from './fetchSearchMovies';\nimport { enableLoader, disableLoader } from './loader';\nimport Notiflix from 'notiflix';\nimport { renderMovies } from './renderTrends';\nimport '../js/partials/notiflixSettings.js'; \n\nlet currentQuery = '';\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  searchInput: document.querySelector('.some-input'),\n  paginationSection: document.querySelector('.pagination'),\n};\n\nrefs.searchForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  if (refs.searchInput.value.trim() === '') {\n    Notiflix.Notify.warning('Введите запрос');\n    return;\n  }\n\n  if (refs.searchInput.value.trim() === currentQuery) {\n    Notiflix.Notify.warning(\n      'Результаты запроса уже показаны. Введите новый запрос'\n    );\n    return;\n  }\n  currentQuery = refs.searchInput.value.trim();\n\n  enableLoader();\n  refs.paginationSection.classList.add('is-hidden');\n\n  fetchSearchMovies(refs.searchInput.value, 1).then(\n    ({ results: images, total_results: totalResults }) => {\n      disableLoader();\n      if (totalResults === 0) {\n        Notiflix.Notify.failure(\n          'По вашему запросу не нашлось результатов'\n        );\n        return;\n      }\n      Notiflix.Notify.success(\n        `По вашему запросу нашлось ${totalResults} фильмов`\n      );\n      paginationSearch.on('afterMove', nextSearchedPage);\n      refs.paginationSection.classList.remove('is-hidden');\n      paginationSearch.reset(totalResults);\n      renderMovies(images);\n    }\n  );\n\n  gallery.innerHTML = '';\n});\n\nfunction nextSearchedPage(event) {\n  gallery.innerHTML = '';\n  const currentPage = event.page;\n  fetchSearchMovies(refs.searchInput.value, currentPage).then(\n    ({ results: images }) => {\n      renderMovies(images);\n    }\n  );\n}\n","import Notiflix from 'notiflix';\n\nNotiflix.Notify.init({\n  success: {\n    background: '#222426',\n    textColor: '#fff',\n    notiflixIconColor: '#5eff5b',\n  },\n  warning: {\n    background: '#222426',\n    textColor: '#fff',\n    notiflixIconColor: '#faff75',\n  },\n  failure: {\n    background: '#222426',\n    textColor: '#fff',\n    notiflixIconColor: '#ff5959',\n  },\n});\n"],"names":["$7CFNy","parcelRequire","$parcel$interopDefault","$iU1Pc","Notify","init","success","background","textColor","notiflixIconColor","warning","failure","$8e6d4e989f749421$var$currentQuery","$8e6d4e989f749421$var$refs","searchForm","document","querySelector","searchInput","paginationSection","$8e6d4e989f749421$var$nextSearchedPage","event","gallery","innerHTML","currentPage","page","$lHZYQ","fetchSearchMovies","value","then","results","images","$8c5xP","renderMovies","addEventListener","e","preventDefault","trim","$kvC6y","enableLoader","classList","add","total_results","totalResults","disableLoader","$jcFG7","paginationSearch","on","remove","reset"],"version":3,"file":"index.33227213.js.map"}